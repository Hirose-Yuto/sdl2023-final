const _=async()=>{var s,c,a,m,i,l,u;const n=[],t=document.getElementsByClassName("product-list__item");for(const e of t){const r=(s=e.getElementsByClassName("product-list__name").item(0))==null?void 0:s.textContent,d=(c=e.getElementsByClassName("product-list__id").item(0))==null?void 0:c.textContent,o=(a=e.getElementsByTagName("tbody").item(0))==null?void 0:a.getElementsByTagName("td");if(!o)continue;const g=(m=o.item(0))==null?void 0:m.textContent,p=(i=o.item(2))==null?void 0:i.textContent,y=(u=(l=o.item(1))==null?void 0:l.getElementsByTagName("input").namedItem("quantity"))==null?void 0:u.getAttribute("value");n.push({name:r??"",sku:d??"",price:g??"",total_price:p??"",quantity:parseInt(y??"0")})}await chrome.storage.sync.set({products:n}),chrome.runtime.sendMessage({greeting:"hello"},function(e){console.log(e)})},C=document.getElementsByClassName("cart__checkout-action");for(const n of C){const t=document.createElement("a");t.textContent="Checkout via Redigiform",t.classList.add("button","button--large"),t.style.background="orangered",t.addEventListener("click",_),n.appendChild(t)}
